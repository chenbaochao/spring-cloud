<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>栏目列表 </title>
  <link rel="stylesheet" href="../common/bootstrap-table/bootstrap-table.min.css" />
  <link rel="stylesheet" href="../common/icheck/flat/green.css" />
  <link rel="stylesheet" href="../common/bootstrap/css/bootstrap.min.css" />
  <link rel="stylesheet" href="../common/font-awesome/css/font-awesome.min.css" />
  <link rel="stylesheet" href="../cms/css/animate.css" />
  <link rel="stylesheet" href="../cms/css/style.css" />
  <script src="../common/jquery/jquery-3.2.0.min.js"></script>
</head>
<script th:inline="javascript">
    var categoriesJson = '';
    var sectionCategoryId = /*[[${sectionCategory.id}]]*/null;
    function show(){
        layer_show('创建栏目','../section/create?categoryId='+sectionCategoryId,'800','700');
    }
    //请求数据时添加分类ID
    function setParameter(para){
        para.sectionCategoryId=sectionCategoryId;
        return para;
    }
</script>
<body class="gray-bg">
<div class="wrapper wrapper-content">
  <div class="row">
    <div class="col-sm-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5 th:text="|${sectionCategory.name} -- 栏目列表|"></h5>
          <div class="ibox-tools"> <a class="collapse-link"><i class="fa fa-chevron-up"></i></a> <a class="close-link"><i class="fa fa-times"></i></a> </div>
        </div>
        <div class="ibox-content">
          <div class="row row-lg">
            <div class="col-sm-12">
              <div class="example-wrap">
                <div class="example">
                  <div id="toolbar" class="btn-group m-t-sm">
                      <button type="button" class="btn btn-default"  title="返回上一页" onclick="javascript:window.history.back();">
                          <i class="glyphicon glyphicon-circle-arrow-left"></i>
                      </button>
                      <button type="button" class="btn btn-default"  th:if="${session.admin.hasPermission('section_create') eq true}"   title="创建栏目" onclick="show()">
                        <i class="glyphicon glyphicon-plus"></i>
                      </button>
                  </div>
                  <table id="table"
                         data-toggle="table"
                         data-height="600"
                         data-search="false"
                         data-show-refresh="true"
                         data-show-toggle="false"
                         data-show-export="true"
                         data-query-params="setParameter"
                         data-show-pagination-switch="true"
                         data-show-columns="false"
                         data-url="../section/getList"
                         data-page-size="20"
                         data-page-list="[20, 50, 100, 200]"
                         data-side-pagination="client"
                         data-striped="true"
                         data-pagination="true"
                         data-sort-order="asc"
                         data-sort-name="sort"
                         data-toolbar="#toolbar">
                    <thead>
                      <tr>
                        <th data-field="id" data-halign="center" data-align="center" data-sortable="true">栏目编号</th>
                        <th data-field="name" data-halign="center" data-align="center">栏目名称</th>
                        <th data-field="sort" data-halign="center" data-align="center" data-sortable="true">排序</th>
                          <th data-field="status" data-formatter="statusFormatter" data-halign="center" data-align="center" data-sortable="true">状态</th>
                          <th data-formatter="actionFormatter" data-events="actionEvents" data-halign="center" data-align="center" >操作</th>
                      </tr>
                    </thead>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<myfooter>
  <!-- layer弹出框js -->
  <script src="../common/layer/layer.js"></script>
  <script src="../common/particleground/js/jquery.particleground.min.js"></script>
  <!-- Bootstrap table -->
  <script src="../common/bootstrap-table/bootstrap-table.min.js"></script>
  <script src="../common/bootstrap-table/extensions/export/bootstrap-table-export.js"></script>
  <script src="../common/bootstrap-table/tableExport.js"></script>
  <script src="../common/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>

  <!-- iCheck -->
  <script src="../common/icheck/icheck.min.js"></script>
  <!-- bootstrapvalidator-master前端验证框架 -->
  <script src="../common/bootstrapvalidator/js/bootstrapValidator.min.js"></script>

  <!-- 全局js -->
  <script src="../common/bootstrap/js/bootstrap.min.js"></script>
  <script src="../common/metismenu/metisMenu.min.js"></script>
  <script src="../common/slimscroll/jquery.slimscroll.min.js"></script>
  <!-- 自定义js -->
  <script src="../cms/js/hplus.js"></script>
  <script src="../cms/js/contabs.js"></script>
  <script src="../cms/js/content.js"></script>
  <!-- 自定义js --> 
  <script src="../cms/js/section.js"></script>
</myfooter>
</body>
</html>